---
title: "Targil 4"
output: html_document
---

# Background
The Boston housing dataset investigates the link between housing prices in the Boston region and various attributes: an attribute indicating environmental pollution, structural and accessibility attributes at the property level, as well as socioeconomic and demographic attributes at the neighborhood level. The dataset uses standardized geographic regions called census tracts, as they were defined by the United States Census Bureau of 1970.

```{r, echo=FALSE, warning=FALSE}
# install.packages("MASS")
# install.packages("knitr")
# install.packages("rlang", dependencies = TRUE)
# install.packages("ggplot2")
# install.packages("ggcorrplot")
# install.packages("gridExtra")


```

# a. Loading the data
```{r}
# Load data
library(MASS)

```

# b. Subsetting variables of interest
```{r}
# remove categorical variables ('chas', 'rad').
df <- Boston[ , - which(names(Boston) %in% c("chas", "rad"))]
```

# c. Describing the variables
```{r}
# Calculate statistics of each attribute in the data frame
summary(df)
```

# d. Correlation matrix
```{r, warning=FALSE}
library(rlang)
library(ggplot2)
library(ggcorrplot)

## create the correlation matrix between all variables in the Boston Dataset
corr_boston <- cor(df)

# visualize the matrix (lower triangle with labels of correlation coefficients)
ggcorrplot(corr_boston, hc.order = TRUE, type = "lower", lab = TRUE, lab_size = 3, insig = "blank")
```





# e. Explanatory variables of housing prices in Boston
When cross-referenced with the median property value, the two variables that yielded the highest absolute correlation were:

a) Average number of rooms ('rm'), with a positive correlation of 0.7.

b) Proportion of residents that belong to a lower socioeconomic class ('lstat'), with a negative correlation of (-0.74).

This conclusion is reinforced by the individual scatter plots of each explanatory variable against the median property values (below):

a) The higher the town's average number of rooms per property, the higher the median property value.

b) The higher the proportion of lower-class residents in a town, the lower the median property value.

```{r, warning=FALSE}
library(gridExtra)

# medv against rm scatterplot
plot1 <- ggplot(Boston, aes(x = rm, y = medv)) + geom_point(size = 2)

# medv against lstat scatterplot
plot2 <- ggplot(Boston, aes(x = lstat, y = medv)) + geom_point(size = 2)

# display plots side by side
grid.arrange(plot1, plot2, ncol = 2)

```


Note several outlier observations at the highest end of the median value range (y-axis). Their value remains the highest regardless of the number of rooms or proportion of lower-class residents in the neighborhood. It's possible that once the property value is above a certain threshold, changes in the above-mentioned explanatory variables do not exclusively account for changes in the housing price. This may call for further investigation in a follow-up analysis.